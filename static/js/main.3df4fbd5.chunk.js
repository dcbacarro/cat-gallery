(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e,a,t){e.exports=t(153)},107:function(e,a,t){},152:function(e,a,t){},153:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=t(11),c=t.n(i),l=(t(107),t(35)),o=t(202),s=t(188),m=t(197),u=t(198),d=t(199),p=t(201),f=t(187),b=t(13),E=t.n(b),y=t(28),v=function(e){return{type:"SET_LOADING",loading:e}},h=function(e){return{type:"LOAD_BREEDS",breeds:e}},g=function(){return function(e){fetch("https://api.thecatapi.com/v1/favourites",{headers:{"x-api-key":"41245267-003b-48d3-a1bf-6d19f75dc6b3"}}).then(function(e){return e.json()}).then(function(a){return e({type:"LOAD_FAVORITES",favorites:a})}).catch(function(e){console.log(e)})}},O=function(){var e=Object(y.a)(E.a.mark(function e(a){var t,n;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.thecatapi.com/v1/images/search?breed_id=".concat(a));case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",{url:n[0].url,id:n[0].id});case 7:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),w=t(47),j=Object(f.a)(function(e){return{root:{position:"relative"},loader:{position:"absolute",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"}}}),S=function(e){var a=e.breed,t=Object(n.useState)(!1),i=Object(w.a)(t,2),c=i[0],l=i[1],o=j();return r.a.createElement("div",{className:o.root},r.a.createElement("img",{src:a.image,onLoad:function(){setTimeout(function(){return l(!0)},1e3)},alt:"",height:200,width:"100%"}),!c&&r.a.createElement("div",{className:o.loader},r.a.createElement(s.a,null)))},x=t(200),k=t(205),_=t(194),N=t(192),R=t(193),I=t(191),C=t(196),T=t(85),D=t.n(T),L=t(189),B=t(95),A=t(207),F=t(150),V=t(88),W=t.n(V),G=t(21),M=t.n(G),P=t(20),X=t.n(P),J=t(206),U=t(86),z=t.n(U),H=t(87),$=t.n(H),q=t(195),K=t(190),Q=t(19),Y=t(83),Z=t.n(Y),ee=t(84),ae=Object(ee.autoPlay)(Z.a),te=Object(f.a)(function(e){return{contentRoot:{padding:0,height:"80vh"},main:{padding:"8px 16px"},image:{height:250,width:"100%",backgroundSize:"cover",backgroundPosition:"center"},icon:{color:"rgba(255, 255, 255, 0.54)"},rates:{display:"flex",justifyContent:"space-between"},title:{display:"flex",justifyContent:"space-between",position:"sticky",top:0,padding:"8px 0",backgroundColor:"#ffffff"},slides:{position:"relative"},fav:{position:"absolute",top:8,right:8}}}),ne=r.a.forwardRef(function(e,a){return r.a.createElement(L.a,Object.assign({in:!0,ref:a},e))}),re=function(){var e=Object(y.a)(E.a.mark(function e(a){var t,n;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.thecatapi.com/v1/images/search?breed_ids=".concat(a,"&limit=8"));case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n.map(function(e){return{url:e.url,id:e.id}}));case 7:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),ie=function(e){var a=e.data,t=Object(n.useState)(!1),i=Object(w.a)(t,2),c=i[0],o=i[1],s=Object(n.useState)([]),m=Object(w.a)(s,2),u=m[0],d=m[1],p=Object(n.useState)(0),f=Object(w.a)(p,2),b=f[0],v=f[1],h=te(),O=Object(K.a)(),j=Object(l.c)(function(e){return e.cats.favorites}),S=Object(l.b)(),x=function(){var e=Object(y.a)(E.a.mark(function e(a){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.thecatapi.com/v1/favourites",{method:"POST",body:JSON.stringify({image_id:a,sub_id:"Me"}),headers:{"x-api-key":"41245267-003b-48d3-a1bf-6d19f75dc6b3","Content-Type":"application/json"}});case 2:S(g());case 3:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),T=function(){var e=Object(y.a)(E.a.mark(function e(a){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("boolean"===typeof a){e.next=4;break}return e.next=3,fetch("https://api.thecatapi.com/v1/favourites/".concat(a),{method:"DELETE",headers:{"x-api-key":"41245267-003b-48d3-a1bf-6d19f75dc6b3"}});case 3:S(g());case 4:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}();function L(){o(!1)}return Object(n.useEffect)(function(){c&&function(){var e=Object(y.a)(E.a.mark(function e(){var t;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(a.id);case 2:t=(t=e.sent).map(function(e){var a=j.findIndex(function(a){return a.image_id===e.id});return e.favoriteId=-1!==a?j[a].id:null,e}),d(t);case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[c,a.id,j]),r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{onClick:function(){o(!0)},className:h.icon},r.a.createElement(D.a,null)),r.a.createElement(k.a,{open:c,TransitionComponent:ne,keepMounted:!0,fullWidth:!0,maxWidth:"xs",onClose:L},r.a.createElement(N.a,{classes:{root:h.contentRoot}},u.length>0&&r.a.createElement(ae,{interval:8e3,axis:"rtl"===O.direction?"x-reverse":"x",index:b,onChangeIndex:function(e){v(e)},enableMouseEvents:!0},u.map(function(e,a){return r.a.createElement("div",{className:h.slides,key:e.id},Math.abs(b-a)<=2?r.a.createElement("div",{className:h.image,style:{backgroundImage:"url(".concat(e.url,")")}}):null,r.a.createElement("div",{className:h.fav},r.a.createElement(J.a,{defaultChecked:Boolean(e.favoriteId),onChange:function(){Boolean(e.favoriteId)?T(e.favoriteId):x(e.id)},checkedIcon:r.a.createElement(z.a,null),icon:r.a.createElement($.a,{color:"secondary",opacity:.3})})))})),r.a.createElement("div",{className:h.main},r.a.createElement("div",{className:h.title},r.a.createElement(B.a,{variant:"h4",gutterBottom:!0},a.name),r.a.createElement(A.a,{color:"primary",label:a.origin,avatar:r.a.createElement(F.a,null,r.a.createElement(W.a,null))})),r.a.createElement(R.a,null,r.a.createElement("strong",null,a.imageVotes),a.description),r.a.createElement("div",{style:{marginBottom:16}},a.temperament.split(",").map(function(e){return r.a.createElement(A.a,{style:{marginRight:4},size:"small",key:e,label:e.trim()})})),r.a.createElement("div",{className:h.rates},r.a.createElement(B.a,{variant:"subtitle2"},"Affection"),r.a.createElement(Q.a,{emptySymbol:r.a.createElement(X.a,{color:"primary"}),fullSymbol:r.a.createElement(M.a,{color:"primary"}),readonly:!0,initialRating:a.affection_level})),r.a.createElement("div",{className:h.rates},r.a.createElement(B.a,{variant:"subtitle2"},"Adaptability"),r.a.createElement(Q.a,{emptySymbol:r.a.createElement(X.a,{color:"primary"}),fullSymbol:r.a.createElement(M.a,{color:"primary"}),readonly:!0,initialRating:a.adaptability})),r.a.createElement("div",{className:h.rates},r.a.createElement(B.a,{variant:"subtitle2"},"Child Friendly"),r.a.createElement(Q.a,{emptySymbol:r.a.createElement(X.a,{color:"primary"}),fullSymbol:r.a.createElement(M.a,{color:"primary"}),readonly:!0,initialRating:a.child_friendly})),r.a.createElement("div",{className:h.rates},r.a.createElement(B.a,{variant:"subtitle2"},"Dog Friendly"),r.a.createElement(Q.a,{emptySymbol:r.a.createElement(X.a,{color:"primary"}),fullSymbol:r.a.createElement(M.a,{color:"primary"}),readonly:!0,initialRating:a.dog_friendly})),r.a.createElement("div",{className:h.rates},r.a.createElement(B.a,{variant:"subtitle2"},"Energy Level"),r.a.createElement(Q.a,{emptySymbol:r.a.createElement(X.a,{color:"primary"}),fullSymbol:r.a.createElement(M.a,{color:"primary"}),readonly:!0,initialRating:a.energy_level})),r.a.createElement("div",{className:h.rates},r.a.createElement(B.a,{variant:"subtitle2"},"Grooming"),r.a.createElement(Q.a,{emptySymbol:r.a.createElement(X.a,{color:"primary"}),fullSymbol:r.a.createElement(M.a,{color:"primary"}),readonly:!0,initialRating:a.grooming})),r.a.createElement("div",{className:h.rates},r.a.createElement(B.a,{variant:"subtitle2"},"Health Issues"),r.a.createElement(Q.a,{emptySymbol:r.a.createElement(X.a,{color:"primary"}),fullSymbol:r.a.createElement(M.a,{color:"primary"}),readonly:!0,initialRating:a.health_issues})),r.a.createElement("div",{className:h.rates},r.a.createElement(B.a,{variant:"subtitle2"},"Intelligence"),r.a.createElement(Q.a,{emptySymbol:r.a.createElement(X.a,{color:"primary"}),fullSymbol:r.a.createElement(M.a,{color:"primary"}),readonly:!0,initialRating:a.intelligence})),r.a.createElement("div",{className:h.rates},r.a.createElement(B.a,{variant:"subtitle2"},"Shedding Level"),r.a.createElement(Q.a,{emptySymbol:r.a.createElement(X.a,{color:"primary"}),fullSymbol:r.a.createElement(M.a,{color:"primary"}),readonly:!0,initialRating:a.shedding_level})),r.a.createElement("div",{className:h.rates},r.a.createElement(B.a,{variant:"subtitle2"},"Social Needs"),r.a.createElement(Q.a,{emptySymbol:r.a.createElement(X.a,{color:"primary"}),fullSymbol:r.a.createElement(M.a,{color:"primary"}),readonly:!0,initialRating:a.social_needs})),r.a.createElement("div",{className:h.rates},r.a.createElement(B.a,{variant:"subtitle2"},"Stranger Friendly"),r.a.createElement(Q.a,{emptySymbol:r.a.createElement(X.a,{color:"primary"}),fullSymbol:r.a.createElement(M.a,{color:"primary"}),readonly:!0,initialRating:a.stranger_friendly})),r.a.createElement("div",{className:h.rates},r.a.createElement(B.a,{variant:"subtitle2"},"Vocalisation"),r.a.createElement(Q.a,{emptySymbol:r.a.createElement(X.a,{color:"primary"}),fullSymbol:r.a.createElement(M.a,{color:"primary"}),readonly:!0,initialRating:a.vocalisation})))),r.a.createElement(_.a,null,r.a.createElement(q.a,{href:a.wikipedia_url,target:"_blank"},r.a.createElement(C.a,{color:"primary"},"Wikipedia")),r.a.createElement(C.a,{onClick:L,color:"primary"},"Close"))))},ce=Object(f.a)(function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},gridList:{width:"100vw",height:"calc(100vh - 64px)"},bar:{borderBottomLeftRadius:4,borderBottomRightRadius:4,overflow:"hidden"},loader:{position:"fixed",top:0,left:0,display:"flex",width:"100vw",height:"100vh",alignItems:"center",justifyContent:"center"}}}),le=Object(m.a)()(function(e){var a=Object(l.b)(),t=Object(l.c)(function(e){return e.cats}),i=t.breeds,c=t.loading;Object(n.useEffect)(function(){a(function(e){e(v(!0)),fetch("https://api.thecatapi.com/v1/breeds?attach_breed=0&limit=20",{headers:{"x-api-key":"41245267-003b-48d3-a1bf-6d19f75dc6b3"}}).then(function(e){return e.json()}).then(function(){var a=Object(y.a)(E.a.mark(function a(t){return E.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=t.map(function(){var e=Object(y.a)(E.a.mark(function e(a){var t;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(a.id);case 2:return t=e.sent,a.image=t.url,e.abrupt("return",a);case 5:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}()),a.next=3,Promise.all(t);case 3:t=a.sent,e(h(t)),e(v(!1));case 6:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()).catch(function(a){console.log(a),e(v(!1))})}),a(g())},[a]);var o=ce();return r.a.createElement("div",{style:{marginTop:64}},r.a.createElement(u.a,{cellHeight:200,spacing:2,cols:Object(m.c)("xl",e.width)?7:Object(m.c)("lg",e.width)?5:Object(m.c)("md",e.width)?4:Object(m.c)("sm",e.width)?3:Object(m.b)("sm",e.width)?2:1,className:o.gridList},i.map(function(e){return r.a.createElement(d.a,{key:e.id},r.a.createElement(x.a,null,r.a.createElement(S,{breed:e})),r.a.createElement(p.a,{classes:{root:o.bar},title:e.name,subtitle:r.a.createElement("span",null,e.origin),actionIcon:r.a.createElement(ie,{data:e})}))})),c&&r.a.createElement("div",{className:o.loader},r.a.createElement(s.a,null)))}),oe=t(33),se=t(89),me=t(90),ue=Object(me.a)(function(e,a){switch(a.type){case"SET_LOADING":e.loading=a.loading;break;case"LOAD_BREEDS":e.breeds=a.breeds;break;case"LOAD_FAVORITES":e.favorites=a.favorites;break;case"SET_CURRENT_BREED":e.currentBreed=a.breed;break;case"SET_IMAGE":var t=e.breeds.findIndex(function(e){return e.id===a.id});e.breeds[t].image=a.image}},{breeds:[],favorites:[],loading:!1,currentBreed:null}),de=Object(oe.c)({cats:ue}),pe=Object(oe.e)(de,{},Object(oe.d)(oe.a.apply(void 0,[se.a]),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),fe=t(93),be=t(203),Ee=t(204),ye=t(91),ve=t.n(ye),he=t(92),ge=t.n(he),Oe=(t(152),Object(fe.a)({palette:{primary:ve.a,secondary:ge.a},status:{danger:"orange"}}));var we=function(){return r.a.createElement(l.a,{store:pe},r.a.createElement(o.a,{theme:Oe},r.a.createElement(be.a,null,r.a.createElement(Ee.a,null,r.a.createElement(B.a,{variant:"h6"},"Cat Gallery"))),r.a.createElement(le,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(we,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[102,1,2]]]);
//# sourceMappingURL=main.3df4fbd5.chunk.js.map